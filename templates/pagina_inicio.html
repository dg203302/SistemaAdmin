<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light dark" />
    <title>Panel de Administraci√≥n</title>
    <link rel="stylesheet" href="../styles/pagina_inicio.css" />
</head>
<body class="layout">
    <!-- Barra superior -->
    <header class="topbar" role="banner">
        <div class="brand">
            <span class="brand__logo" aria-hidden="true">üõ†Ô∏è</span>
            <span class="brand__name">Sistema De Administracion De El Lote</span>
        </div>
        <div class="topbar__spacer" aria-hidden="true"></div>
        <nav class="topbar__actions" aria-label="Acciones de usuario">
            <button class="btn ghost" title="Notificaciones" aria-label="Notificaciones">üîî</button>
            <button class="btn primary small" id="logoutBtn" title="Cerrar sesi√≥n">Cerrar sesi√≥n</button>
        </nav>
    </header>

    <!-- Contenido principal -->
    <main class="content" role="main">
        <header class="page-header">
            <div>
                <h1>Inicio</h1>
                <p class="muted">Gestiona clientes, puntos y publicaciones desde un solo lugar.</p>
            </div>
            <div class="page-actions">
                <a class="btn primary" href="#registrar-puntos">Registrar puntos</a>
                <a class="btn" href="#crear-publicacion">Nueva publicaci√≥n</a>
            </div>
        </header>

        <!-- Indicadores -->
        <section class="grid kpis" aria-label="Indicadores principales">
            <article class="card kpi" aria-live="polite">
                <header>Clientes activos</header>
                <div class="kpi__value">1,248</div>
                <div class="kpi__delta positive">‚ñ≤ 3.4% este mes</div>
            </article>
            <article class="card kpi" aria-live="polite">
                <header>Puntos asignados</header>
                <div class="kpi__value">56,320</div>
                <div class="kpi__delta neutral">‚Äî estable</div>
            </article>
            <article class="card kpi" aria-live="polite">
                <header>Publicaciones activas</header>
                <div class="kpi__value">12</div>
                <div class="kpi__delta negative">‚ñº 1 esta semana</div>
            </article>
            <article class="card kpi" aria-live="polite">
                <header>Canjes del d√≠a</header>
                <div class="kpi__value">87</div>
                <div class="kpi__delta positive">‚ñ≤ 12 hoy</div>
            </article>
        </section>

        <!-- Acciones r√°pidas -->
        <section class="card" id="acciones-rapidas" aria-labelledby="acciones-rapidas-title">
            <header class="card__header">
                <h2 id="acciones-rapidas-title">Acciones r√°pidas</h2>
            </header>
            <div class="quick-actions">
                <a class="action" href="#registrar-puntos" aria-label="Registrar puntos a un cliente">
                    <span class="action__icon" aria-hidden="true">‚ûï</span>
                    <span class="action__label">Registrar puntos</span>
                </a>
                <a class="action" href="#crear-publicacion" aria-label="Crear una nueva publicaci√≥n">
                    <span class="action__icon" aria-hidden="true">üìù</span>
                    <span class="action__label">Crear publicaci√≥n</span>
                </a>
                <a class="action" href="#administrar-publicaciones" aria-label="Administrar publicaciones">
                    <span class="action__icon" aria-hidden="true">üì£</span>
                    <span class="action__label">Administrar publicaciones</span>
                </a>
                <a class="action" href="#administrar-clientes" aria-label="Administrar clientes y puntos">
                    <span class="action__icon" aria-hidden="true">üë•</span>
                    <span class="action__label">Administrar clientes</span>
                </a>
            </div>
        </section>

        <!-- Actividad reciente -->
        <section class="card" aria-labelledby="actividad-title">
            <header class="card__header">
                <h2 id="actividad-title">Actividad reciente</h2>
                <div class="card__tools">
                    <input type="search" class="input" placeholder="Buscar‚Ä¶" aria-label="Buscar actividad" />
                </div>
            </header>
            <div class="table-wrap">
                <table class="table" role="grid">
                    <thead>
                        <tr>
                            <th scope="col">Fecha</th>
                            <th scope="col">Acci√≥n</th>
                            <th scope="col">Cliente</th>
                            <th scope="col">Detalle</th>
                            <th scope="col" class="right">Estado</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>09/10/2025 10:21</td>
                            <td>Asignaci√≥n de puntos</td>
                            <td>Mar√≠a L√≥pez</td>
                            <td>+150 por compra</td>
                            <td class="right"><span class="badge success">Completado</span></td>
                        </tr>
                        <tr>
                            <td>09/10/2025 09:55</td>
                            <td>Nueva publicaci√≥n</td>
                            <td>‚Äî</td>
                            <td>Promo "2x1 Fin de semana"</td>
                            <td class="right"><span class="badge info">Publicado</span></td>
                        </tr>
                        <tr>
                            <td>09/10/2025 09:10</td>
                            <td>Edici√≥n cliente</td>
                            <td>Juan P√©rez</td>
                            <td>Actualizaci√≥n de tel√©fono</td>
                            <td class="right"><span class="badge warning">Pendiente</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Publicaciones -->
        <section class="card" id="administrar-publicaciones" aria-labelledby="publicaciones-title">
            <header class="card__header">
                <h2 id="publicaciones-title">Publicaciones</h2>
                <a class="btn small" href="#crear-publicacion">+ Nueva</a>
            </header>
            <div class="grid publications">
                <article class="pub">
                    <h3 class="pub__title">Liquidaci√≥n de Invierno</h3>
                    <p class="muted">Hasta 40% de descuento. V√°lido hasta 31/07.</p>
                    <div class="pub__actions">
                        <button class="btn small">Editar</button>
                        <button class="btn ghost small">Eliminar</button>
                    </div>
                </article>
                <article class="pub">
                    <h3 class="pub__title">D√≠a del Cliente</h3>
                    <p class="muted">Puntos x2 en todas las compras de hoy.</p>
                    <div class="pub__actions">
                        <button class="btn small">Editar</button>
                        <button class="btn ghost small">Eliminar</button>
                    </div>
                </article>
            </div>
        </section>
    </main>

    <footer class="footer" role="contentinfo">
        <small>¬© <span id="y"></span> Sistema Admin. Todos los derechos reservados.</small>
    </footer>

    <script>
        (function () {
            // Proteger ruta: si no hay sesi√≥n activa, volver a login
            if (!sessionStorage.getItem('ingreso')) {
                try { window.location.href = '../index.html'; } catch(_) {}
                return;
            }
            // A√±o en footer
            const year = document.getElementById('y');
            if (year) year.textContent = new Date().getFullYear();
            // Cerrar sesi√≥n
            const logoutBtn = document.getElementById('logoutBtn');
            logoutBtn?.addEventListener('click', () => {
                sessionStorage.removeItem('ingreso');
                window.location.href = '../index.html';
            });
        })();
    </script>
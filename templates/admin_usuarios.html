<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administrar usuarios</title>
    <!-- Diseño base -->
    <link rel="stylesheet" href="../estilo_prueba.css">
    <!-- Estilos específicos de la página -->
    <link rel="stylesheet" href="../styles/admin_usuarios.css">
    <link rel="preload" as="image" href="../logo_lote.png">
</head>
<body>
    <div class="layout">
        <header class="topbar" role="banner">
            <div class="brand">
                <img src="/logo_lote.png" alt="Logo_lote">
                <span class="brand__name">Administración Usuarios</span>
            </div>
            <div class="topbar__spacer"></div>
            <nav aria-label="Ayuda">
                <a class="btn ghost small" href="mailto:diegogarcia479@yahoo.com.ar, juanpi9landa@gmail.com?subject=Admin%20Usuarios">Ayuda</a>
            </nav>
        </header>

        <main class="content">
            <div class="page-header">
                <div>
                    <h1>Usuarios</h1>
                    <div class="muted">Busca por teléfono o por nombre (prefijo)</div>
                </div>
                <div class="page-actions admin-toolbar" role="group" aria-label="Búsqueda y acciones">
                    <input id="q" class="input" type="text" placeholder="264xxxxxxx o nombre (p.ej. juan)" aria-label="Buscar usuario" />
                    <button id="btnBuscar" class="btn primary" type="button">Buscar</button>
                    <button id="btnVerTodos" class="btn" type="button">Ver todos</button>
                    <div style="flex:1"></div>
                    <a id="btnAgregar" class="btn" href="./agregar_usuario.html">Agregar usuario</a>
                </div>
            </div>

            <section id="usuariosSection" class="card" hidden>
                <div class="card__header">
                    <h2 class="section-title" id="usuariosTitle">Resultados</h2>
                </div>
                <div class="table-wrap">
                    <table class="table" aria-describedby="usuariosTitle">
                        <thead>
                            <tr>
                                <th>Nombre</th>
                                <th>Teléfono</th>
                                <th>Puntos</th>
                                <th class="hide-sm">Creación</th>
                                <th class="right" style="text-align: center;">Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="usuariosBody"></tbody>
                    </table>
                </div>
            </section>
        </main>

        <footer class="footer" role="contentinfo">
            <small>©<span id="y"></span> Todos los derechos reservados.</small>
        </footer>
    </div>

        <script>
            // Toggle mostrar/ocultar contraseña sin interferir con script_inicio.js
            (function () {
                const y = document.getElementById('y');
                if (y) y.textContent = new Date().getFullYear();
            })();
        </script>

    <!-- Supabase CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Config (claves) compartida con admin_publicaciones -->
    <script src="../scripts/config.js"></script>
    <!-- Lógica de la página -->
    <script src="../scripts/admin_usuarios.js"></script>
</body>
</html>
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Administrar publicaciones</title>
    <!-- Dise√±o base -->
    <link rel="stylesheet" href="../estilo_prueba.css" />
    <!-- Estilos espec√≠ficos de la p√°gina -->
    <link rel="stylesheet" href="../styles/admin_publicaciones.css" />
  </head>
  <body>
    <div class="layout">
      <header class="topbar">
        <div class="brand">
          <img src="/logo_lote.png" alt="Logo_lote" style="max-width: 10%; max-height: 10%; object-fit: contain;">
          <div class="brand__name">Admin Publicaciones</div>
        </div>
        <div class="topbar__spacer"></div>
        <div class="topbar__spacer"></div>
        <a class="btn" href="/templates/pagina_inicio.html">üè†Ô∏é</a>
            <nav aria-label="Ayuda">
              <a class="btn ghost small" href="mailto:diegogarcia479@yahoo.com.ar, juanpi9landa@gmail.com?subject=Admin%20Usuarios">Ayuda</a>
            </nav>
      </header>

      <main class="content">
        <div class="page-header">
          <div>
            <h1>Administrar publicaciones</h1>
            <div class="muted">
              Selecciona qu√© quieres administrar y presiona Administrar
            </div>
          </div>
          <div
            class="page-actions admin-toolbar"
            role="group"
            aria-label="Selecci√≥n de m√≥dulo a administrar"
          >
            <select
              id="opciones"
              name="opciones"
              class="input"
              required
              aria-label="Elegir m√≥dulo"
            >
              <option value="" selected hidden>Seleccionar...</option>
              <option value="Avisos">Avisos</option>
              <option value="Promociones">Promociones</option>
              <option value="Ofertas">Ofertas</option>
            </select>
            <button id="btnAdministrar" class="btn primary" type="button">
              Administrar
            </button>
          </div>
        </div>

        <!-- Secci√≥n din√°mica -->
        <section id="adminSection" class="card" hidden>
          <div class="card__header">
            <h2 id="sectionTitle" class="section-title">‚Äî</h2>
            <div class="card__tools">
              <button id="btnCrear" class="btn" type="button">
                <span aria-hidden="true">Ôºã</span>
                Crear
              </button>
            </div>
          </div>
          <div class="body" id="sectionHelper" hidden>
            <span class="badge warning">Config requerida</span>
            <span class="muted"
              >Faltan las claves de Supabase. Edita
              <code>scripts/config.js</code>.</span
            >
          </div>
          <div class="table-wrap">
            <table class="table" aria-describedby="sectionTitle">
              <thead>
                <tr>
                  <th>T√≠tulo</th>
                  <th>Descripci√≥n</th>
                  <th id="thPuntos" hidden>Puntos</th>
                  <th>Vigencia</th>
                  <th class="right" style="text-align: center;">Acciones</th>
                </tr>
              </thead>
              <tbody id="itemsBody"></tbody>
            </table>
          </div>
         
        </section> <!-- Editor inline: se muestra debajo de la tabla (crear/editar) -->
          <div id="editorContainer" class="body" hidden></div>
      </main>

      <footer class="footer">
        <small>¬©<span id="y"></span> Todos los derechos reservados.</small>
      </footer>
    </div>  

    <script>
        // Toggle mostrar/ocultar contrase√±a sin interferir con script_inicio.js
        (function () {
            const y = document.getElementById('y');
            if (y) y.textContent = new Date().getFullYear();
        })();
    </script>

    <!-- Supabase CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Configurar tus claves aqu√≠ -->
    <script src="../scripts/config.js"></script>
    <!-- L√≥gica de la p√°gina -->
    <script src="../scripts/admin_publicaciones.js"></script>
  </body>
</html>
